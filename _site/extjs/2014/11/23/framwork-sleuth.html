<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width initial-scale=1">

<title>Sleuth.js - 想用啥就用啥</title>
<meta name="description" content="Github:https://github.com/AxeMea/Sleuth.jsoschina:http://http://my.oschina.net/u/1420701/blog/347360靠这个还上过某周的top博主，哈哈哈一.Sleuth.js是什么Sleuth是一个加载框架，它允许开发者只需要re...">
<meta name="keywords" content="Michael,blog,IT,javascript,front-end,internet">

<link rel="icon" href="/axemea/images/favicon.ico">
<link rel="stylesheet" href="/axemea/css/main.css">
<link rel="canonical" href="http://axemea.github.io/extjs/2014/11/23/framwork-sleuth.html">
<link rel="alternate" type="application/atom+xml" title="M的奇葩漂流" href="http://axemea.github.io/zfeed.xml" />

<script src="http://lib.sinaapp.com/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/javascript">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [ ['$','$'], ["\\(","\\)"] ],
    processEscapes: true
  }
});
MathJax.Hub.Config({
  tex2jax: {
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre']
  }
});
MathJax.Hub.Queue(function() {
  var all = MathJax.Hub.getAllJax(), i;
  for(i=0; i < all.length; i += 1) {
    all[i].SourceElement().parentNode.className += ' has-jax';
  }
});

$(document).ready(function(){
  $(".flip").click(
      function(){
        $(".panel").toggle(500);
      });
});
</script>


</head>


<body>

<div class="container">

  <header class="site-header">

  <div class="wrapper">

    <h1 class="site-title"><a href="/axemea/">M的奇葩漂流</a></h1>
    <h3 class="site-meta">人生如茶，空杯以对。对程序的态度，正如对生活的态度。</h3>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
        
        <a class="page-link" href="/axemea/">首页</a>
        
        
        
        <a class="page-link" href="/axemea/about/">关于</a>
        
        
        
        <a class="page-link" href="/axemea/archives/">文章</a>
        
        
        
        <a class="page-link" href="/axemea/categories/">分类</a>
        
        
        
        <a class="page-link" href="/axemea/guestbook/">作品</a>
        
        
        
        
        
        
        
        <a class="page-link" href="/axemea/tags/">推荐</a>
        
        
        
        <a class="page-link" href="/axemea/zfeed.xml">订阅</a>
        
        
        
        
        
        
      </div>
    </nav>

  </div>

</header>


    

  <div class="page-content col-sm-8">
    <div class="post">

  <header class="post-header">
    <h1 class="post-title">Sleuth.js - 想用啥就用啥</h1>
  </header>

  <article class="post-content about"> 
    <p>Github:<a href="https://github.com/AxeMea/Sleuth.js">https://github.com/AxeMea/Sleuth.js</a></p>

<p>oschina:<a href="http://my.oschina.net/u/1420701/blog/347360">http://http://my.oschina.net/u/1420701/blog/347360</a></p>

<p>靠这个还上过某周的top博主，哈哈哈</p>

<h4 id="sleuthjs">一.Sleuth.js是什么</h4>

<p>Sleuth是一个加载框架，它允许开发者只需要require相应的库或者插件，不需要去下载，就可以直接使用，并且允许开发者任意切换版本。</p>

<h4 id="sleuthjs-1">二.使用Sleuth.js</h4>

<h5 id="sleuthjs-2">1.引入Sleuth.js库文件</h5>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;https://rawgithub.com/axemea/sleuth/master/mappings/mapping-ch.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">type=</span><span class="s">&quot;text/javascript&quot;</span> <span class="na">src=</span><span class="s">&quot;sleuth.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span></code></pre></div>

<p>先后引用mapping-ch.min.js,sleuth.min.js文件，注意顺序。mapping-ch.min.js是库的版本映射文件，定义了引用各个库和插件的源地址。默认的引用的是一个公共的映射文件，当然开发者也可以定义自己的映射文件。</p>

<h5 id="section">2.使用方法</h5>

<p>Sleuth.js只向外提供了一个require方法</p>

<p>1-只加载一个库</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="o">&lt;</span><span class="nx">script</span> <span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span> <span class="nx">src</span><span class="o">=</span><span class="s2">&quot;https://rawgithub.com/axemea/sleuth/master/mappings/mapping-ch.min.js&quot;</span><span class="o">&gt;&lt;</span><span class="err">/script&gt;</span>
<span class="c1">//加载一个库</span>
<span class="nx">Sleuth</span><span class="p">.</span><span class="nx">require</span><span class="p">([</span><span class="s1">&#39;jquery&#39;</span><span class="p">],</span><span class="kd">function</span><span class="p">(){</span>
	<span class="c1">//write your code </span>
<span class="p">});</span></code></pre></div>

<p>2-加载多个库</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//加载多个库</span>
<span class="nx">Sleuth</span><span class="p">.</span><span class="nx">require</span><span class="p">([</span><span class="s1">&#39;jquery&#39;</span><span class="p">,</span><span class="s1">&#39;prototype&#39;</span><span class="p">,</span><span class="s1">&#39;response&#39;</span><span class="p">],</span><span class="kd">function</span><span class="p">(){</span>
<span class="c1">//write your code </span>
<span class="p">});</span></code></pre></div>

<table>
  <tbody>
    <tr>
      <td>3-选择版本加载，格式为“库</td>
      <td>版本号”，如果没有显式定义版本，则选取映射文件中对应库的第一个版本。</td>
    </tr>
  </tbody>
</table>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">//选择版本加载</span>
<span class="nx">Sleuth</span><span class="p">.</span><span class="nx">require</span><span class="p">([</span><span class="s1">&#39;jquery|1.8.3&#39;</span><span class="p">,</span><span class="s1">&#39;prototype&#39;</span><span class="p">,</span><span class="s1">&#39;response&#39;</span><span class="p">],</span><span class="kd">function</span><span class="p">(){</span>
<span class="c1">//write your code </span>
<span class="p">});</span></code></pre></div>

<h4 id="section-1">三.定义版本映射文件</h4>

<p>初始的映射文件为：</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">refMapping</span> <span class="o">=</span> <span class="p">{</span>
			<span class="nx">prototype</span><span class="o">:</span><span class="p">{</span>
				<span class="s1">&#39;1.7.2&#39;</span><span class="o">:</span><span class="s1">&#39;http://cdn.bootcss.com/prototype/1.7.2/prototype.min.js&#39;</span>
			<span class="p">},</span>
			<span class="nx">jquery</span><span class="o">:</span><span class="p">{</span>
				<span class="s1">&#39;1.8.3&#39;</span><span class="o">:</span><span class="s1">&#39;http://code.jquery.com/jquery-1.8.3.min.js&#39;</span><span class="p">,</span>
				<span class="s1">&#39;1.8.2&#39;</span><span class="o">:</span><span class="s1">&#39;http://code.jquery.com/jquery-1.8.2.min.js&#39;</span>
			<span class="p">},</span>
			<span class="nx">ext</span><span class="o">:</span><span class="p">{</span>
				<span class="s1">&#39;4.2.1&#39;</span><span class="o">:</span><span class="p">{</span>
					<span class="nx">u</span><span class="o">:</span><span class="s1">&#39;http://cdn.bootcss.com/extjs/4.2.1/ext-all.min.js&#39;</span><span class="p">,</span>
					<span class="nx">c</span><span class="o">:</span><span class="s1">&#39;http://cdn.bootcss.com/extjs/4.2.1/resources/ext-theme-classic/ext-theme-classic-all.css&#39;</span>
				<span class="p">}</span>
			<span class="p">},</span>
			<span class="nx">backbone</span><span class="o">:</span><span class="p">{</span>
				<span class="s1">&#39;1.1.2&#39;</span><span class="o">:</span><span class="s1">&#39;http://cdn.bootcss.com/backbone.js/1.1.2/backbone-min.js&#39;</span>
			<span class="p">},</span>
			<span class="nx">response</span><span class="o">:</span><span class="p">{</span>
				<span class="s1">&#39;0.9.1+201410311050&#39;</span><span class="o">:</span><span class="s1">&#39;http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js&#39;</span>
			<span class="p">}</span>

		<span class="p">};</span>
<span class="p">};</span></code></pre></div>

<p>开发者如果需要其它的库或者插件可以Pull Request过来，我们将丰富到映射文件中去，当然开发者也可以编写自己的本地映射配置文件。但我们真诚的希望，您能将您的需求提交给我们，你需要的，必然他人也需要，谢谢。</p>

<h4 id="section-2">四.映射配置文件配置项说明</h4>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">refMapping</span> <span class="o">=</span> <span class="p">{</span>
			<span class="c1">//单版本配置</span>
			<span class="nx">prototype</span><span class="o">:</span><span class="p">{</span>
				<span class="s1">&#39;1.7.2&#39;</span><span class="o">:</span><span class="s1">&#39;http://cdn.bootcss.com/prototype/1.7.2/prototype.min.js&#39;</span>
			<span class="p">},</span>
			<span class="c1">//多版本配置</span>
			<span class="nx">jquery</span><span class="o">:</span><span class="p">{</span>
				<span class="s1">&#39;1.8.3&#39;</span><span class="o">:</span><span class="s1">&#39;http://code.jquery.com/jquery-1.8.3.min.js&#39;</span><span class="p">,</span>
				<span class="s1">&#39;1.8.2&#39;</span><span class="o">:</span><span class="s1">&#39;http://code.jquery.com/jquery-1.8.2.min.js&#39;</span>
			<span class="p">},</span>
			<span class="c1">//带一个css的库的配置</span>
			<span class="nx">ext</span><span class="o">:</span><span class="p">{</span>
				<span class="s1">&#39;4.2.1&#39;</span><span class="o">:</span><span class="p">{</span>
					<span class="c1">//url</span>
					<span class="nx">u</span><span class="o">:</span><span class="s1">&#39;http://cdn.bootcss.com/extjs/4.2.1/ext-all.min.js&#39;</span><span class="p">,</span>
					<span class="c1">//css</span>
					<span class="nx">c</span><span class="o">:</span><span class="s1">&#39;http://cdn.bootcss.com/extjs/4.2.1/resources/ext-theme-classic/ext-theme-classic-all.css&#39;</span>
				<span class="p">}</span>
			<span class="p">},</span>
			<span class="c1">//带多个css的库的配置</span>
			<span class="nx">demo</span><span class="o">:</span><span class="p">{</span>
				<span class="s1">&#39;1.0&#39;</span><span class="o">:</span><span class="p">{</span>
					<span class="nx">u</span><span class="o">:</span><span class="s1">&#39;demo.js&#39;</span><span class="p">,</span>
					<span class="nx">c</span><span class="o">:</span><span class="p">[</span><span class="s1">&#39;demo1.css&#39;</span><span class="p">,</span><span class="s1">&#39;demo2.css&#39;</span><span class="p">]</span>
				<span class="p">}</span>
			<span class="p">}</span>
<span class="p">};</span></code></pre></div>

<p>需要值得注意的是，在配置版本顺序的时候，推荐最新版本的写在前面，这样默认的话，选择的就是最新版本。</p>

<h4 id="section-3">五.关于引用地址</h4>

<p>可以是各个cdn点的资源如：</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">refMapping</span> <span class="o">=</span> <span class="p">{</span>
			<span class="nx">ext</span><span class="o">:</span><span class="p">{</span>
				<span class="s1">&#39;4.2.1&#39;</span><span class="o">:</span><span class="p">{</span>
					<span class="c1">//url</span>
					<span class="nx">u</span><span class="o">:</span><span class="s1">&#39;http://cdn.bootcss.com/extjs/4.2.1/ext-all.min.js&#39;</span><span class="p">,</span>
					<span class="c1">//css</span>
					<span class="nx">c</span><span class="o">:</span><span class="s1">&#39;http://cdn.bootcss.com/extjs/4.2.1/resources/ext-theme-classic/ext-theme-classic-all.css&#39;</span>
				<span class="p">}</span>
			<span class="p">}</span>

<span class="p">};</span></code></pre></div>

<p>如果想引用github中开源库的代码，需要注意的是其引用地址，比如Sleuth.js,
<a href="https://github.com/AxeMea/Sleuth/blob/master/sleuth.js">Sleuth.js</a> 
这个地址是不行的，需要的是直接访问文件系统的地址，
<a href="https://rawgithub.com/axemea/sleuth/master/sleuth.js">Sleuth.js</a></p>

<h4 id="amdcommonjs">六.支持AMD,CommonJS规范</h4>

<h5 id="amd">AMD规范</h5>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">require</span><span class="p">([</span><span class="s1">&#39;sleuth&#39;</span><span class="p">],</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">Sleuth</span><span class="p">)</span> <span class="p">{</span>

	<span class="err">　　　　</span><span class="nx">Sleuth</span><span class="p">.</span><span class="nx">require</span><span class="p">([</span><span class="s1">&#39;jquery|1.8.3&#39;</span><span class="p">,</span><span class="s1">&#39;prototype&#39;</span><span class="p">,</span><span class="s1">&#39;response&#39;</span><span class="p">],</span><span class="kd">function</span><span class="p">(){</span>

			<span class="c1">//write your code </span>

			<span class="p">});</span>
	<span class="err">　　</span><span class="p">});</span></code></pre></div>

<h5 id="commonjs">CommonJS规范</h5>

<h4 id="section-4">七.公共映射配置文件库以及插件列表[及时更新]</h4>

<table>
  <thead>
    <tr>
      <th>库名</th>
      <th>版本号</th>
      <th>脚本引用地址</th>
      <th>样式引用地址</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>prototype</td>
      <td>1.7.2</td>
      <td>http://cdn.bootcss.com/prototype/1.7.2/prototype.min.js</td>
      <td> </td>
    </tr>
    <tr>
      <td>jquery</td>
      <td>1.8.3</td>
      <td>http://code.jquery.com/jquery-1.8.3.min.js</td>
      <td> </td>
    </tr>
    <tr>
      <td> </td>
      <td>1.8.2</td>
      <td>http://code.jquery.com/jquery-1.8.2.min.js</td>
      <td> </td>
    </tr>
    <tr>
      <td>ext</td>
      <td>4.2.1</td>
      <td>http://cdn.bootcss.com/extjs/4.2.1/ext-all.js</td>
      <td>http://cdn.bootcss.com/extjs/4.2.1/resources/ext-theme-classic/ext-theme-classic-all.css</td>
    </tr>
    <tr>
      <td>backbone</td>
      <td>1.1.2</td>
      <td>http://cdn.bootcss.com/backbone.js/1.1.2/backbone-min.js</td>
      <td> </td>
    </tr>
    <tr>
      <td>response</td>
      <td>0.9.1+201410311050</td>
      <td>http://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js</td>
      <td> </td>
    </tr>
  </tbody>
</table>

<p>23 Nov 2014</p>

  </article>

  
  <div id="disqus_thread"></div>

<script type="text/javascript">

  var disqus_developer = 1;

var disqus_shortname ='axemea';
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();
</script>

<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

  

</div> 

    <section class="pager">
  
  
</section>


  </div>
  <div class="col-sm-2">
<div class="sidebar-module about">
  <h4>关于我</h4>
  <img title="Zheng Yu" src="https://avatars1.githubusercontent.com/u/4532661?v=3&s=460" alt="Zheng Yu"/>
  <span>曾经，最苦恼的是，被别人称作安静的美男子。现在，最苦恼的是，特么的这些竟然是真的。待你下次的转身，我会果断抱住你，然后大声地说，我要全世界都知道，我只是一名前端工程师。</span>
  <br />

  

  You can contact me via:

  
  <a href="mailto:michaelcoco1991@gmail.com" title="mailto: michaelcoco1991@gmail.com">Email</a> /
  
  
  <a href="https://github.com/axemea" title="GithubID: axemea">Github</a> /
  
  
  <a href="https://twitter.com/zheng yu" title="TwitterID: zheng yu">Twitter</a>
  

  

</div>

<div class="sidebar-module"> <!-- sidebar-module-inset">-->
  <h4>版权声明</h4>

  

  <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/">
    <img src="http://i.creativecommons.org/l/by-nc-sa/3.0/88x31.png">
  </a>
  <br />
  <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/s">Attribution-NonCommercial-ShareAlike</a>

  

</div>


<div class="sidebar-module">
  <h4>近期文章</h4>
  
  <li>
  <a href="/axemea//extjs/2014/11/23/framwork-sleuth.html" title="Sleuth.js - 想用啥就用啥" rel="bookmark">Sleuth.js - 想用啥就用啥</a>
  </li>
  
  <li>
  <a href="/axemea//javascript/2014/08/13/javascript-help.html" title="Javascript帮助手册" rel="bookmark">Javascript帮助手册</a>
  </li>
  
  <li>
  <a href="/axemea//html/2014/07/01/diff-html-xhtml.html" title="HTML、XHTML的区别" rel="bookmark">HTML、XHTML的区别</a>
  </li>
  
  <li>
  <a href="/axemea//extjs/2014/06/11/extjs4-project-design.html" title="ExtJS前端项目构架探讨(二)" rel="bookmark">ExtJS前端项目构架探讨(二)</a>
  </li>
  
  <li>
  <a href="/axemea//html/2014/05/16/36kr-page-analysis.html" title="36kr首页结构分析" rel="bookmark">36kr首页结构分析</a>
  </li>
  
</div>


<div class="sidebar-module">
  <h4>分类目录</h4>
  
  <li><a href="/axemea/categories/#影评" title="影评" rel="1">影评 (1)</a></li>
  
  <li><a href="/axemea/categories/#书评" title="书评" rel="2">书评 (2)</a></li>
  
  <li><a href="/axemea/categories/#extjs" title="extjs" rel="4">extjs (4)</a></li>
  
  <li><a href="/axemea/categories/#python" title="python" rel="2">python (2)</a></li>
  
  <li><a href="/axemea/categories/#flask" title="flask" rel="1">flask (1)</a></li>
  
  <li><a href="/axemea/categories/#javascript" title="javascript" rel="2">javascript (2)</a></li>
  
  <li><a href="/axemea/categories/#html" title="html" rel="2">html (2)</a></li>
  
</div>


<div class="sidebar-module">
  <h4>标签</h4>
  
</div>


<div class="sidebar-module">
  <h4>良师益友</h4>
  
</div>


<div class="sidebar-module">
  <h4>存档</h4>

  
  
  
  
  
  <li id="2014" > <a href="/axemea/archives/#2014">2014</a></li>
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  <li id="2013" > <a href="/axemea/archives/#2013">2013</a></li>
  
  
  
  
  

</div>


</div>



  

  <footer class="site-footer">

  <p>Copyright &copy; <a href="/axemea/">M的奇葩漂流</a></p>
  <p>Powered by <a href="https://github.com/jekyll/jekyll">Jekyll</a> 
  on 
  
  <a href="https://github.com/">Github</a>
  
  | Theme <a href="https://github.com/yulijia/freshman21/">Freshman21</a> Design by <a href="http://yulijia.net">Lijia Yu</a>  

</footer>


</div>

</body>

</html>
